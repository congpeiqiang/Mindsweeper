# ğŸ§  Mindsweeper - çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ

> ä¸€ä¸ªåŸºäºFastAPIå’ŒMilvusçš„ç°ä»£åŒ–çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„ä¸Šä¼ ã€å¤„ç†ã€å‘é‡åŒ–å’Œæ™ºèƒ½æ£€ç´¢ã€‚

## âœ¨ é¡¹ç›®ç‰¹è‰²

- ğŸš€ **é«˜æ€§èƒ½**: åŸºäºFastAPIå¼‚æ­¥æ¡†æ¶ï¼Œæ”¯æŒ1000+å¹¶å‘è¯·æ±‚
- ğŸ§  **æ™ºèƒ½å‘é‡åŒ–**: é›†æˆSentence-Transformersï¼Œæ”¯æŒå¤šç§åµŒå…¥æ¨¡å‹
- ğŸ” **å¿«é€Ÿæœç´¢**: åŸºäºMilvuså‘é‡æ•°æ®åº“ï¼Œ<100msæœç´¢å“åº”æ—¶é—´
- ğŸ“ **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒPDFã€CSVã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰å¤šç§æ–‡ä»¶æ ¼å¼
- ğŸ—ï¸ **æ¨¡å—åŒ–æ¶æ„**: æ¸…æ™°çš„åˆ†å±‚è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- ğŸ“š **å®Œæ•´æ–‡æ¡£**: è¯¦ç»†çš„ä¸­æ–‡æ–‡æ¡£å’Œå¼€å‘æŒ‡å—
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²**: å®Œæ•´çš„Dockerå’ŒKubernetesæ”¯æŒ
- ğŸ§ª **æµ‹è¯•å®Œå–„**: å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•æ¡†æ¶

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“¤ æ–‡ä»¶ç®¡ç†
- æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸Šä¼ ï¼ˆPDFã€CSVã€å›¾ç‰‡ã€æ–‡æœ¬ï¼‰
- æ–‡ä»¶éªŒè¯å’Œå®‰å…¨æ£€æŸ¥
- æ–‡ä»¶çŠ¶æ€è·Ÿè¸ªå’Œç®¡ç†

### ğŸ”„ å†…å®¹å¤„ç†
- è‡ªåŠ¨æ–‡æœ¬æå–å’Œæ¸…æ´—
- æ™ºèƒ½æ–‡æœ¬åˆ†å—
- æ”¯æŒå¤šç§åˆ†å—ç­–ç•¥

### ğŸ§  å‘é‡åŒ–å¤„ç†
- æ”¯æŒå¤šç§åµŒå…¥æ¨¡å‹
- æ‰¹é‡å‘é‡åŒ–å¤„ç†
- å‘é‡ç¼“å­˜ä¼˜åŒ–

### ğŸ” æ™ºèƒ½æ£€ç´¢
- å‘é‡ç›¸ä¼¼åº¦æœç´¢
- æ··åˆæœç´¢ï¼ˆå‘é‡+å…³é”®è¯ï¼‰
- ç»“æœæ’åºå’Œé‡æ’

### ğŸ“š çŸ¥è¯†åº“ç®¡ç†
- åˆ›å»ºå’Œç®¡ç†å¤šä¸ªçŸ¥è¯†åº“
- çŸ¥è¯†åº“ç»Ÿè®¡ä¿¡æ¯
- æƒé™ç®¡ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| åç«¯æ¡†æ¶ | FastAPI | 0.104+ |
| å‘é‡æ•°æ®åº“ | Milvus | 2.3+ |
| å…³ç³»æ•°æ®åº“ | PostgreSQL | 12+ |
| ORM | SQLAlchemy | 2.0+ |
| å¼‚æ­¥ä»»åŠ¡ | Celery | 5.3+ |
| ç¼“å­˜ | Redis | 6.0+ |
| å‘é‡åŒ– | Sentence-Transformers | 2.2+ |
| æ–‡ä»¶å¤„ç† | PyPDF2, pandas, Tesseract | - |
| æµ‹è¯•æ¡†æ¶ | pytest | 7.4+ |
| å®¹å™¨åŒ– | Docker | 20.10+ |

## ğŸ“Š é¡¹ç›®ç»“æ„

```
Mindsweeper/
â”œâ”€â”€ app/                    # åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ middleware/        # ä¸­é—´ä»¶
â”œâ”€â”€ tests/                 # æµ‹è¯•ä»£ç 
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ uploads/               # æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ logs/                  # æ—¥å¿—ç›®å½•
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â””â”€â”€ é…ç½®æ–‡ä»¶
```

è¯¦è§ [é¡¹ç›®ç»“æ„è¯´æ˜.md](é¡¹ç›®ç»“æ„è¯´æ˜.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Python 3.8+
- Docker & Docker Compose
- PostgreSQL 12+
- Milvus 2.3+

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd Mindsweeper
```

### 2. é…ç½®ç¯å¢ƒ
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½®å‚æ•°
```

### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 4. å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

### 5. åˆå§‹åŒ–æ•°æ®åº“
```bash
python scripts/init_db.py
python scripts/create_collection.py
```

### 6. å¯åŠ¨åº”ç”¨
```bash
uvicorn app.main:app --reload
```

### 7. è®¿é—®åº”ç”¨
- ğŸ“– APIæ–‡æ¡£: http://localhost:8000/docs
- âœ… å¥åº·æ£€æŸ¥: http://localhost:8000/api/v1/health

è¯¦è§ [å¼€å§‹ä½¿ç”¨.md](å¼€å§‹ä½¿ç”¨.md)

## ğŸ“š API æ¦‚è§ˆ

### æ–‡ä»¶ç®¡ç†
```
POST   /api/v1/files/upload          # ä¸Šä¼ æ–‡ä»¶
GET    /api/v1/files                 # è·å–æ–‡ä»¶åˆ—è¡¨
GET    /api/v1/files/{file_id}       # è·å–æ–‡ä»¶è¯¦æƒ…
DELETE /api/v1/files/{file_id}       # åˆ é™¤æ–‡ä»¶
```

### æœç´¢
```
POST   /api/v1/search                # å‘é‡æœç´¢
POST   /api/v1/search/hybrid         # æ··åˆæœç´¢
```

### çŸ¥è¯†åº“
```
POST   /api/v1/knowledge-bases       # åˆ›å»ºçŸ¥è¯†åº“
GET    /api/v1/knowledge-bases       # è·å–çŸ¥è¯†åº“åˆ—è¡¨
GET    /api/v1/knowledge-bases/{id}  # è·å–çŸ¥è¯†åº“è¯¦æƒ…
PUT    /api/v1/knowledge-bases/{id}  # æ›´æ–°çŸ¥è¯†åº“
DELETE /api/v1/knowledge-bases/{id}  # åˆ é™¤çŸ¥è¯†åº“
```

è¯¦è§ [docs/APIæ–‡æ¡£.md](docs/APIæ–‡æ¡£.md)

## ğŸ”„ å·¥ä½œæµç¨‹

### æ–‡ä»¶ä¸Šä¼ æµç¨‹
```
ä¸Šä¼ æ–‡ä»¶ â†’ éªŒè¯ â†’ æå–å†…å®¹ â†’ æ¸…æ´— â†’ åˆ†å— â†’ å‘é‡åŒ– â†’ å…¥åº“ â†’ ä¿å­˜å…ƒæ•°æ®
```

### æœç´¢æµç¨‹
```
æŸ¥è¯¢ â†’ å¤„ç† â†’ å‘é‡åŒ– â†’ Milvusæœç´¢ â†’ æ’åº â†’ è¿”å›ç»“æœ
```

## ğŸ“– æ–‡æ¡£

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| [å¼€å§‹ä½¿ç”¨.md](å¼€å§‹ä½¿ç”¨.md) | å¿«é€Ÿå¼€å§‹æŒ‡å— |
| [é¡¹ç›®ç»“æ„è¯´æ˜.md](é¡¹ç›®ç»“æ„è¯´æ˜.md) | è¯¦ç»†çš„ç›®å½•ç»“æ„ |
| [é¡¹ç›®ç»“æ„æ€»ç»“.md](é¡¹ç›®ç»“æ„æ€»ç»“.md) | é¡¹ç›®ç»“æ„æ€»ç»“ |
| [å¿«é€Ÿå‚è€ƒ.md](å¿«é€Ÿå‚è€ƒ.md) | å¿«é€Ÿå‚è€ƒå¡ |
| [docs/é¡¹ç›®æ¶æ„è®¾è®¡.md](docs/é¡¹ç›®æ¶æ„è®¾è®¡.md) | ç³»ç»Ÿæ¶æ„è®¾è®¡ |
| [docs/å¼€å‘æŒ‡å—.md](docs/å¼€å‘æŒ‡å—.md) | å¼€å‘æŒ‡å— |
| [docs/APIæ–‡æ¡£.md](docs/APIæ–‡æ¡£.md) | APIæ¥å£æ–‡æ¡£ |
| [docs/é…ç½®è¯´æ˜.md](docs/é…ç½®è¯´æ˜.md) | é…ç½®è¯´æ˜ |
| [docs/æ•°æ®åº“è®¾è®¡.md](docs/æ•°æ®åº“è®¾è®¡.md) | æ•°æ®åº“è®¾è®¡ |
| [docs/æ–‡ä»¶å¤„ç†æµç¨‹.md](docs/æ–‡ä»¶å¤„ç†æµç¨‹.md) | æ–‡ä»¶å¤„ç†æµç¨‹ |
| [docs/éƒ¨ç½²æŒ‡å—.md](docs/éƒ¨ç½²æŒ‡å—.md) | éƒ¨ç½²æŒ‡å— |

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
pytest
```

### è¿è¡Œå•å…ƒæµ‹è¯•
```bash
pytest tests/unit/
```

### è¿è¡Œé›†æˆæµ‹è¯•
```bash
pytest tests/integration/
```

### æ˜¾ç¤ºæµ‹è¯•è¦†ç›–ç‡
```bash
pytest --cov=app tests/
```

## ğŸ³ Docker å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
docker-compose ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
docker-compose logs -f app
```

### åœæ­¢æœåŠ¡
```bash
docker-compose down
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒ100MBä»¥å†…æ–‡ä»¶
- **å‘é‡æœç´¢**: <100ms (Top-10)
- **å¹¶å‘å¤„ç†**: æ”¯æŒ1000+å¹¶å‘è¯·æ±‚
- **å­˜å‚¨å®¹é‡**: æ”¯æŒç™¾ä¸‡çº§æ–‡æ¡£

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡
è¯¦è§ `.env.example` å’Œ [docs/é…ç½®è¯´æ˜.md](docs/é…ç½®è¯´æ˜.md)

### é…ç½®æ–‡ä»¶
- `config/settings.py` - åº”ç”¨è®¾ç½®
- `config/logging.yaml` - æ—¥å¿—é…ç½®
- `config/milvus.yaml` - Milvusé…ç½®

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ“§ Email: support@example.com
- ğŸ’¬ Issues: GitHub Issues
- ğŸ“– Wiki: GitHub Wiki

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…çš„æ”¯æŒï¼

---

**é¡¹ç›®åç§°**: Mindsweeper  
**é¡¹ç›®ç±»å‹**: çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿ  
**æ¡†æ¶**: FastAPI + Milvus + PostgreSQL  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… é¡¹ç›®ç»“æ„å·²åˆ›å»ºï¼Œå¯å¼€å§‹å¼€å‘  

**ä¸‹ä¸€æ­¥**: 
1. é˜…è¯» [å¼€å§‹ä½¿ç”¨.md](å¼€å§‹ä½¿ç”¨.md)
2. æŸ¥çœ‹ [é¡¹ç›®ç»“æ„è¯´æ˜.md](é¡¹ç›®ç»“æ„è¯´æ˜.md)
3. å‚è€ƒ [docs/å¼€å‘æŒ‡å—.md](docs/å¼€å‘æŒ‡å—.md) å¼€å§‹å¼€å‘

